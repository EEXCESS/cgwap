<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://xmlns.jcp.org/jsf/passthrough" template="template/layout.xhtml">


	<ui:define name="title">
    CGWAP - #{msg.register}
  </ui:define>

	<ui:define name="content">

		<div class="row">
			<div class="col-md-6 col-md-offset-3">

				<h:form id="form-signup" name="form-signup" class="form-signin">

					<h2 class="form-signup-heading">CGWAP - #{msg.signup}</h2>


					<!-- show only for global messages -->
					<h:panelGroup layout="block" rendered="#{sessionBean.hasErrorMessage and not facesContext.validationFailed}"
						class="alert alert-danger">
						<button type="button" class="close" data-dismiss="alert">x</button>
						<h4>#{msg.error}</h4>
						<h:messages globalOnly="true" layout="list" />
					</h:panelGroup>


					<div class="form-group #{sessionBean.hasErrorMessage ? 'has-error' : ''}">
						<h:inputText id="nickname" value="#{userAction.user.nickname}" styleClass="form-control" required="true"
							p:placeholder="#{msg.registerNicknamePlaceholder}" requiredMessage="#{msg.nicknameRequired}"
							autofocus="autofocus">
							<f:validator validatorId="nicknameUniqueValidator" />
						</h:inputText>
						<span class="help-block"><h:message for="nickname" /> </span>
					</div>

					<div class="form-group #{sessionBean.hasErrorMessage ? 'has-error' : ''}">
						<h:inputText id="email" value="#{userAction.user.email}" styleClass="form-control" required="true"
							p:placeholder="#{msg.loginEmailPlaceholder}" requiredMessage="#{msg.emailRequired}" autofocus="autofocus">
							<f:validator validatorId="emailValidator" />
							<f:validator validatorId="emailExistsValidator" />
						</h:inputText>
						<span class="help-block"><h:message for="email" /> </span>
					</div>

					<div class="form-group #{sessionBean.hasErrorMessage ? 'has-error' : ''}">
						<h:inputSecret id="password" value="#{userAction.user.password}" styleClass="form-control"
							p:placeholder="#{msg.loginPasswordPlaceholder}" requiredMessage="#{msg.passwordRequired}" />
						<span class="help-block"><h:message for="password" /> </span>
					</div>

					<h:commandButton action="#{userAction.register()}" value="#{msg.signup}"
						styleClass="btn btn-lg btn-success btn-block" type="submit" />



				</h:form>

			</div>
		</div>

	</ui:define>

</ui:composition>